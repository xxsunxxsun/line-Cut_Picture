<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>LINE è²¼åœ–ä¸Šå‚³è£åˆ‡å·¥å…·</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">

<style>
    /* å…¨å±€è¨­ç½® */
    body {
      font-family: "Noto Sans TC", "Segoe UI", "å¾®è»Ÿæ­£é»‘é«”", Arial, sans-serif; /* èª¿æ•´å­—é«”ï¼Œå„ªå…ˆä½¿ç”¨ Noto Sans TC */
      background-color: #f0f4f8; /* éå¸¸æ·ºçš„è—ç°è‰²èƒŒæ™¯ */
      margin: 0;
      padding: 0 20px 40px 20px; /* èª¿æ•´ paddingï¼Œé ‚éƒ¨ç‚º 0ï¼Œåº•éƒ¨ä¿ç•™ */
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #333; /* é»˜èªæ–‡å­—é¡è‰² */
    }

    /* å°èˆªåˆ—å®¹å™¨ */
    nav {
      width: 100%;
      /* ç§»é™¤èƒŒæ™¯å’Œé™°å½±ï¼Œè®“æŒ‰éˆ•æœ¬èº«å¸¶æœ‰è¦–è¦ºæ•ˆæœ */
      padding: 15px 0; /* å¢åŠ ä¸Šä¸‹ paddingï¼Œçµ¦å°èˆªé€£çµä¸€äº›ç©ºé–“ */
      margin-bottom: 20px; /* èª¿æ•´å°èˆªåˆ—èˆ‡å®¹å™¨çš„é–“è· */
       position: relative; /* ç¢ºä¿ z-index æœ‰æ•ˆ */
       z-index: 10; /* è®“å°èˆªåœ¨æœ€ä¸Šå±¤ */
    }

    /* å°èˆªé€£çµå®¹å™¨ (ç”¨æ–¼å±…ä¸­å’Œæ§åˆ¶æœ€å¤§å¯¬åº¦) */
    nav div {
      max-width: 800px; /* å°èˆªå€åŸŸæœ€å¤§å¯¬åº¦èˆ‡ä¸‹æ–¹å®¹å™¨å°é½Š */
      margin: 0 auto;
      display: flex;
      justify-content: center; /* å°èˆªé€£çµå±…ä¸­ */
      padding: 0 20px; /* å°èˆªåˆ—å…§å®¹å·¦å³ padding */
      gap: 20px; /* èª¿æ•´é€£çµä¹‹é–“çš„é–“è· */
      flex-wrap: wrap; /* å…è¨±åœ¨å°å±å¹•æ›è¡Œ */
    }

    /* å°èˆªé€£çµ (æŒ‰éˆ•æ¨£å¼) */
    nav a {
      display: inline-block; /* è®“ padding, margin, width æœ‰æ•ˆ */
      padding: 10px 20px; /* å¢åŠ å…§é‚Šè·ï¼Œå½¢æˆæŒ‰éˆ•å¤§å° */
      border: 2px solid #64b5f6; /* æ·ºè—è‰²é‚Šæ¡† */
      background-color: #e3f2fd; /* éå¸¸æ·ºçš„è—è‰²èƒŒæ™¯ */
      color: #01579b; /* æ·±è—è‰²æ–‡å­— */
      text-decoration: none;
      font-weight: bold;
      font-size: 16px;
      border-radius: 5px; /* åœ“è§’ */
      box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* è¼•å¾®é™°å½± */
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease; /* å¹³æ»‘éæ¸¡ */
      text-align: center; /* æ–‡å­—å±…ä¸­ */
      min-width: 120px; /* è¨­ç½®æœ€å°å¯¬åº¦ */
    }
     nav a:hover {
       background-color: #bbdefb; /* æ‡¸åœæ™‚èƒŒæ™¯è®Šæ·± */
       color: #01579b; /* æ–‡å­—é¡è‰²ä¸è®Š */
       border-color: #42a5f5; /* é‚Šæ¡†é¡è‰²è®Šæ·± */
       box-shadow: 0 4px 8px rgba(0,0,0,0.15); /* æ‡¸åœæ™‚é™°å½±è®Šå¤§ */
     }

    /* ä¸»è¦å…§å®¹å®¹å™¨ */
    .container {
      max-width: 860px; /* èˆ‡ nav div çš„ max-width é¡ä¼¼ï¼Œç¢ºä¿å°é½Š */
      background: #fff;
      padding: 30px; /* èª¿æ•´ padding */
      border-radius: 20px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1); /* çµ±ä¸€é™°å½±é¢¨æ ¼ */
      display: flex;
      flex-wrap: wrap;
      justify-content: center; /* ä½¿å…§å®¹å±…ä¸­ */
      gap: 30px; /* å€å¡Šä¹‹é–“çš„é–“è· */
      margin: 0 auto 30px auto; /* é ‚éƒ¨è‡ªå‹•ï¼Œåº•éƒ¨ 30px */
      box-sizing: border-box; /* ç¢ºä¿ padding ä¸å½±éŸ¿å¯¬åº¦ */
    }

    /* åœ–ç‰‡å€å¡Š */
    .section {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #ffffff; /* çµ±ä¸€ç™½è‰²èƒŒæ™¯ */
      border: 1px solid #e0e0e0; /* æ·ºç°è‰²é‚Šæ¡† */
      border-radius: 16px;
      padding: 40px; /* é€²ä¸€æ­¥å¢åŠ  paddingï¼Œä½¿æ¡†æ¡†è®Šå¤§ */
      /* width ç”±ä¸‹é¢çš„è¦å‰‡æ§åˆ¶ */
      box-shadow: 0 2px 8px rgba(0,0,0,0.05); /* è¼•å¾®é™°å½± */
      /* Removed box-sizing: border-box; */
    }

    /* å–®ç¨è¨­ç½® Main å€å¡Šå¯¬åº¦ (å…§å®¹å¯¬åº¦) */
     .section:first-child {
         width: 240px;
     }
    /* å–®ç¨è¨­ç½® Tab å€å¡Šå¯¬åº¦ (å…§å®¹å¯¬åº¦) */
     .section:nth-child(2) {
         width: 130px;
     }


    /* ä¸Šå‚³å€åŸŸæŒ‡ç¤º */
    .upload-area {
      border: 2px dashed #64b5f6; /* æ·ºè—è‰²è™›ç·šé‚Šæ¡† */
      border-radius: 12px;
      padding: 15px; /* èª¿æ•´ padding */
      background-color: #e3f2fd; /* æ·ºè—è‰²èƒŒæ™¯ */
      color: #01579b; /* æ·±è—è‰²æ–‡å­— */
      font-weight: bold;
      text-align: center;
      width: 100%; /* ç›¸å°æ–¼ .section çš„å…§å®¹å€åŸŸ */
      margin-bottom: 12px;
      font-size: 15px;
      cursor: pointer; /* é¼ æ¨™æŒ‡é‡ */
      transition: background-color 0.3s ease;
      box-sizing: border-box; /* Upload Area å…§éƒ¨ä»ç„¶ä½¿ç”¨ border-box æ–¹ä¾¿ width: 100% */
    }

    .upload-area:hover {
      background-color: #bbdefb; /* æ‡¸åœæ™‚é¡è‰²è®Šæ·± */
    }

    /* Canvas åœ–ç‰‡é¡¯ç¤ºå€åŸŸ */
    canvas {
      border: 1px solid #ddd; /* æ·ºç°è‰²é‚Šæ¡† */
      border-radius: 10px;
      background: white;
      margin: 10px auto;
      box-shadow: 0 1px 6px rgba(0,0,0,0.06);
      display: block; /* é˜²æ­¢ Canvas ä¸‹æ–¹æœ‰ç©ºç™½é–“éš™ */
      max-width: 100%; /* ç¢ºä¿åœ–ç‰‡ä¸è¶…å‡º .section çš„å…§å®¹å€åŸŸ */
      height: auto; /* ä¿æŒæ¯”ä¾‹ */
    }

    /* ä¸‹è¼‰æŒ‰éˆ• */
    .btn-download {
      display: inline-block; /* ç¢ºä¿æ¨£å¼ç”Ÿæ•ˆ */
      background: linear-gradient(to right, #64b5f6, #42a5f5); /* æ·ºè—è‰²æ¼¸å±¤ */
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: background-color 0.3s ease;
    }

    .btn-download:hover {
      background: linear-gradient(to right, #42a5f5, #2196f3); /* æ‡¸åœæ™‚é¡è‰²è®Šæ·± */
    }

    /* éš±è—çš„æª”æ¡ˆè¼¸å…¥ */
    input[type="file"] {
      display: none;
    }

    /* æ‰‹æ©Ÿé©é… */
    @media (max-width: 600px) {
        body {
            padding: 0 15px 20px 15px; /* æ‰‹æ©Ÿé‚Šè·ï¼Œé ‚éƒ¨ç‚º 0 */
        }
        nav div {
             gap: 10px; /* æ‰‹æ©Ÿä¸Šæ¸›å°‘é€£çµé–“è· */
        }
         nav a {
             padding: 8px 15px; /* æ‰‹æ©Ÿä¸ŠæŒ‰éˆ•å…§é‚Šè· */
             font-size: 15px; /* æ‰‹æ©Ÿä¸Šå­—é«”å¤§å° */
             min-width: unset; /* ç§»é™¤æœ€å°å¯¬åº¦é™åˆ¶ */
             flex-grow: 1; /* è®“æŒ‰éˆ•å½ˆæ€§å¡«å……ç©ºé–“ */
         }
         .container {
             padding: 20px; /* æ‰‹æ©Ÿå®¹å™¨ padding */
             gap: 20px; /* æ‰‹æ©Ÿå€å¡Šé–“è· */
             justify-content: center; /* æ‰‹æ©Ÿä¸Šå€å¡Šå±…ä¸­ */
         }
         .section, .section:nth-child(2) { /* æ‰‹æ©Ÿä¸Šè®“å…©å€‹å€å¡Šéƒ½è®Šæˆå…¨å¯¬ */
            width: 100%;
            max-width: 280px; /* è¨­ç½®ä¸€å€‹æœ€å¤§å¯¬åº¦ï¼Œé¿å…åœ¨éå¸¸å¯¬çš„å±å¹•ä¸Šéå¤§ */
            margin: 0 auto; /* å€å¡Šè‡ªèº«å±…ä¸­ */
            padding: 20px; /* æ‰‹æ©Ÿä¸Šä½¿ç”¨è¼ƒå°çš„ padding */
            box-sizing: border-box; /* åœ¨æ‰‹æ©Ÿä¸Šä½¿ç”¨ border-box */
         }
         .upload-area {
             padding: 12px; /* æ‰‹æ©Ÿä¸Šå‚³å€åŸŸ padding */
         }
          .btn-download {
             width: 100%; /* æ‰‹æ©Ÿä¸Šä¸‹è¼‰æŒ‰éˆ•ä½”æ»¿å¯¬åº¦ */
             box-sizing: border-box; /* åœ¨æ‰‹æ©Ÿä¸Šä¸‹è¼‰æŒ‰éˆ•ä½¿ç”¨ border-box */
         }
         canvas {
             max-width: 100%; /* ç¢ºä¿ Canvas ä¸è¶…å‡ºçˆ¶å…ƒç´ åœ¨æ‰‹æ©Ÿä¸Šçš„å…§å®¹å€åŸŸ */
         }
    }
</style>

</head>
<body>
  <nav>
    <div>
      <a href="./index.html">ğŸ  ä¸»é </a>
      <a href="./cropper.html">ğŸ“‘Main & Tab åˆ‡å‰²</a>
    </div>
  </nav>


  <div class="container">
    <div class="section">
      <div class="upload-area" onclick="document.getElementById('mainUpload').click();">
        Main åœ–ç‰‡ (240x240)<br>æ‹–æ›³æˆ–é»æ“Šä¸Šå‚³
      </div>
      <input type="file" id="mainUpload" accept="image/*">
      <canvas id="mainCanvas" width="240" height="240"></canvas>
      <button id="mainDownload" class="btn-download">ä¸‹è¼‰</button>
    </div>

    <div class="section">
      <div class="upload-area" onclick="document.getElementById('tabUpload').click();">
        Tab åœ–ç‰‡ (96x74)<br>æ‹–æ›³æˆ–é»æ“Šä¸Šå‚³
      </div>
      <input type="file" id="tabUpload" accept="image/*">
      <canvas id="tabCanvas" width="96" height="74"></canvas>
      <button id="tabDownload" class="btn-download">ä¸‹è¼‰</button>
    </div>
  </div>

  <script>
    function setupUploader(inputId, canvasId, downloadId, targetWidth, targetHeight) {
      const input = document.getElementById(inputId);
      const canvas = document.getElementById(canvasId);
      const downloadBtn = document.getElementById(downloadId);
      const ctx = canvas.getContext('2d');

      // åˆå§‹åŒ–æ™‚éš±è—ä¸‹è¼‰æŒ‰éˆ•
      downloadBtn.style.display = 'none';

      input.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function(event) {
          const img = new Image();
          img.onload = function() {
            // æ¸…é™¤ canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // å°‡åœ–ç‰‡ç¹ªè£½åˆ° canvas ä¸Šï¼Œä¸¦ç¸®æ”¾åˆ°ç›®æ¨™å°ºå¯¸
            ctx.drawImage(img, 0, 0, targetWidth, targetHeight);

            // é¡¯ç¤ºä¸‹è¼‰æŒ‰éˆ•
            downloadBtn.style.display = 'inline-block';

            // è¨­ç½®ä¸‹è¼‰åŠŸèƒ½
            downloadBtn.onclick = function() {
              const link = document.createElement('a');
              // è¨­ç½®ä¸‹è¼‰æ–‡ä»¶å (ä½¿ç”¨ inputId ä½œç‚ºåŸºç¤åç¨±)
              link.download = inputId.replace('Upload', '') + '.png';
              // å°‡ canvas å…§å®¹è½‰ç‚º Data URL
              link.href = canvas.toDataURL('image/png');
              link.click(); // è§¸ç™¼ä¸‹è¼‰
            };
          };
          img.src = event.target.result;
        };
        reader.readAsDataURL(file);
      });

      // å¯é¸ï¼šæ·»åŠ æ‹–æ”¾åŠŸèƒ½
      const uploadArea = input.parentElement; // ç²å– .upload-area å…ƒç´ 
      uploadArea.addEventListener('dragover', (e) => {
          e.preventDefault(); // é˜»æ­¢é»˜èªè¡Œç‚ºï¼Œå…è¨±æ‹–æ”¾
          // åªæœ‰ç•¶æ‹–æ”¾çš„æ˜¯æ–‡ä»¶æ™‚æ‰æ”¹è®Šæ¨£å¼
          if (e.dataTransfer.items && e.dataTransfer.items.length > 0 && e.dataTransfer.items[0].kind === 'file') {
              uploadArea.style.backgroundColor = '#bbdefb'; // æ‹–æ”¾æ™‚æ”¹è®ŠèƒŒæ™¯è‰²
          }
      });
      uploadArea.addEventListener('dragleave', () => {
          uploadArea.style.backgroundColor = '#e3f2fd'; // é›¢é–‹æ™‚æ¢å¾©èƒŒæ™¯è‰²
      });
       uploadArea.addEventListener('drop', (e) => {
           e.preventDefault(); // é˜»æ­¢é»˜èªè¡Œç‚º
           uploadArea.style.backgroundColor = '#e3f2fd'; // æ¢å¾©èƒŒæ™¯è‰²
           const files = e.dataTransfer.files;
           if (files.length > 0) {
               // å°‡æ‹–æ”¾çš„æ–‡ä»¶è³¦å€¼çµ¦æ–‡ä»¶è¼¸å…¥æ¡†
               input.files = files;
               // æ‰‹å‹•è§¸ç™¼ change äº‹ä»¶ï¼Œä»¥ä¾¿ç›£è½å™¨åŸ·è¡Œ
               const event = new Event('change', { bubbles: true });
               input.dispatchEvent(event);
           }
       });
    }

    //è¨­ç½® Main å’Œ Tab åœ–ç‰‡ä¸Šå‚³å™¨
    setupUploader("mainUpload", "mainCanvas", "mainDownload", 240, 240);
    setupUploader("tabUpload", "tabCanvas", "tabDownload", 96, 74); // æ³¨æ„é€™è£¡çš„ targetWidth å’Œ targetHeight
  </script>
</body>
</html>
